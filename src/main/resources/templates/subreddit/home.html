<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="common/header :: common-header"></head>
<body>
<nav th:replace="common/navbar :: common-navbar"></nav>
<div class="container">
    <div class="mb-5">
        <h2 class="mt-4 mb-3">
            <a class="text-reset text-decoration-none" th:href="'https://www.reddit.com' + ${subreddit.url}"
               th:text="'r/' + ${subreddit.name}"></a>
        </h2>
        <p th:text="${subreddit.description}"></p>
        <p th:text="'Created at: ' + ${subreddit.createdAt}"></p>
    </div>

    <div class="d-flex mb-5 ml-4">
        <div class="shadow-sm p-3 bg-white rounded d-flex mr-4">
            <div class="mr-3">
                <h6>Subscribers</h6>
                <p class="text-center" th:text="${subreddit.subscribers}"></p>
            </div>
            <div>
                <h6>Rank</h6>
                <p class="text-center" th:text="${subreddit.subscriberRank}"></p>
            </div>
        </div>

        <div class="shadow-sm p-3 bg-white rounded d-flex mr-4">
            <div class="mr-3">
                <h6>Comments per day</h6>
                <p class="text-center" th:text="${subreddit.commentsPerDay}"></p>
            </div>
            <div>
                <h6>Rank</h6>
                <p class="text-center" th:text="${subreddit.commentsPerDayRank}"></p>
            </div>
        </div>

        <div class="shadow-sm p-3 bg-white rounded d-flex mr-4">
            <div class="mr-3">
                <h6>Posts per day</h6>
                <p class="text-center" th:text="${subreddit.postsPerDay}"></p>
            </div>
            <div>
                <h6>Rank</h6>
                <p class="text-center" th:text="${subreddit.postsPerDayRank}"></p>
            </div>
        </div>

        <div class="shadow-sm p-3 bg-white rounded d-flex">
            <div class="mr-3">
                <h6>Growth today</h6>
                <p class="text-center" th:text="${subreddit.growthToday}"></p>
            </div>
            <div>
                <h6>Rank</h6>
                <p class="text-center" th:text="${subreddit.growthTodayRank}"></p>
            </div>
        </div>
    </div>

    <h5 class="mt-4 mb-4">Subreddit growth over last month</h5>
    <canvas id="growth-subscribers" class="growth-chart mb-5"></canvas>

    <h5 class="mt-4 mb-4">Number of comments over last month</h5>
    <canvas id="growth-comments" class="growth-chart mb-5"></canvas>

    <h5 class="mt-4 mb-4">Number of posts over last month</h5>
    <canvas id="growth-posts" class="growth-chart mb-5"></canvas>
    <script th:inline="javascript">
        /*<![CDATA[*/
        let subreddit = /*[[${subreddit.name}]]*/ null;
        /*]]>*/
        drawGrowthChart(subreddit);
    </script>
</div>
</body>
</html>
